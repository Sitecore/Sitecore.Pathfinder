@using System
@using System.Text
@using RazorEngine.Text
@using Sitecore.Pathfinder
@using Sitecore.Pathfinder.Extensions
@using Sitecore.Pathfinder.IO
@inherits RazorEngine.Templating.TemplateBase<Sitecore.Pathfinder.Projects.Templates.Template>
@{
    var className = Model.ShortName.GetSafeCodeIdentifier();

    var parts = PathHelper.GetItemParentPath(Model.QualifiedName).Split(Constants.Slash, StringSplitOptions.RemoveEmptyEntries);
    for (var index = 0; index < parts.Length; index++)
    {
        parts[index] = parts[index].GetSafeCodeIdentifier().Capitalize();
    }

    var safeNamespace = string.Join(".", parts);

    var fieldsBuilder = new StringBuilder();
    foreach (var section in Model.Sections)
    {
        foreach (var field in section.Fields)
        {
            fieldsBuilder.AppendLine("        [NotNull]");
            fieldsBuilder.AppendLine("        [System.CodeDom.Compiler.GeneratedCode(\"Sitecore.Pathfinder\", \"1.0.0.0\")]");
            fieldsBuilder.AppendLine("        public string " + field.FieldName.Value.GetSafeCodeIdentifier() + " { get { return InnerItem[\"" + field.FieldName.Value + "\"]; } }");
            fieldsBuilder.AppendLine();
        }
    }

    var fields = new RawString(fieldsBuilder.ToString().Trim());
}
//------------------------------------------------------------------------------
// <auto-generated>
    // This code was generated by a tool.
    //
    // Changes to this file may cause incorrect behavior and will be lost if
    // the code is regenerated.
    //
    //
</auto-generated>
//------------------------------------------------------------------------------

#pragma warning disable 1591

using Sitecore;
using Sitecore.Data.Items;

namespace @safeNamespace
{
    #region Designer generated code

    [System.Diagnostics.DebuggerStepThrough()]
    [System.CodeDom.Compiler.GeneratedCode("Sitecore.Pathfinder", "1.0.0.0")]
    public partial class @className
    {
        public @(className)(Item innerItem)
        {
        InnerItem = innerItem;
        }

        [NotNull]
        [System.CodeDom.Compiler.GeneratedCodeAttribute("Sitecore.Pathfinder", "1.0.0.0")]
        public Item InnerItem { get; private set; }

    @fields
    }

    #endregion
}

#pragma warning restore 1591
